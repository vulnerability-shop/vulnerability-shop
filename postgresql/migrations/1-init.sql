CREATE TABLE IF NOT EXISTS Customer (
   id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
   email VARCHAR(256),
   username VARCHAR(100),
   password VARCHAR(20),
   firstName VARCHAR(100),
   lastName VARCHAR(100),
   address VARCHAR(256),
   phoneNumber VARCHAR(20),
   user_role INT
);

CREATE TABLE IF NOT EXISTS Payment (
    id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    customer_id INT REFERENCES Customer(id),
    cardNumber INT,
    expMonth INT,
    expYear INT,
    cvv INT
);

CREATE TABLE IF NOT EXISTS Purchase (
    id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    customer_id INT REFERENCES Customer(id),
    payment_id INT REFERENCES Payment(id),
    purchase_cost DECIMAL,
    purchase_date TIMESTAMP
);

CREATE TABLE IF NOT EXISTS Item (
    id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    name TEXT,
    description TEXT,
    image TEXT,
    price DECIMAL,
    stock INT
);

CREATE TABLE IF NOT EXISTS PurchaseItem (
    id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    purchase_id INT REFERENCES Purchase(id),
    item_id INT REFERENCES Item(id),
    quantity INT
);

CREATE TABLE IF NOT EXISTS CartItem (
    id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    customer_id INT REFERENCES Customer(id),
    item_id INT REFERENCES Item(id),
    item_quantity INT
);