echo "package main

import (
        \"context\";
        \"fmt\";
        \"os\";
        \"github.com/docker/docker/api/types\";
        \"github.com/docker/docker/client\"
)

func main() {
        os.Setenv(\"DOCKER_API_VERSION\", \"1.39\")
        cli, err := client.NewClientWithOpts(client.FromEnv)
        if err != nil {
                panic(err)
        }
        containers, err := cli.ContainerList(context.Background(), types.ContainerListOptions{})
        if err != nil {
                panic(err)
        }
        for _, container := range containers {
            fmt.Printf(\"%s %s\\n\", container.ID[:10], container.Image)
        }
}" > docker-list-containers.go