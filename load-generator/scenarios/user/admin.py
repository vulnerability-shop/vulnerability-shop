from locust import FastHttpUser, task, run_single_user

from config import config


class AdminScenario(FastHttpUser):

    host = config["user"]["host"]

    @task
    def exec(self):
        with self.client.post("/exec", json={"command": "echo test"}) as response:
            if response.status_code == 200:
                print(response.text)


if __name__ == "__main__":
    run_single_user(AdminScenario)
