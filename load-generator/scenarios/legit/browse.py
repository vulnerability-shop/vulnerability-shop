import random
from common.user import random_login
from common.catalog import get_items_page
from locust import FastHttpUser, task, run_single_user


class BrowseScenario(FastHttpUser):

    @task
    def main(self):
        random_login(self)
        pages = random.randint(1, 10)
        for _ in range(pages):
            get_items_page(self)

        print(f"Successfully browsed through: {pages} pages")


if __name__ == '__main__':
    run_single_user(BrowseScenario)


