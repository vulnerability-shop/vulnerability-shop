import json
from locust import FastHttpUser
from config import config


def add_purchase(http: FastHttpUser, auth_token):
    url = f'{config["purchase"]["host"]}/addPurchase'

    with http.rest(method="POST", url=url, headers={'Authorization': auth_token}) as response:
        if response.js is not None:
            return json.loads(response.text)
