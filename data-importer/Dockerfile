FROM postgres:latest

ENV POSTGRES_DB ecommerce
ENV POSTGRES_USER admin
ENV POSTGRES_PASSWORD admin

# Copy the CSV files into the container
COPY ./files/*.csv /docker-entrypoint-initdb.d/

# Copy the import script into the container
COPY import.sh /docker-entrypoint-initdb.d/

RUN chmod +x /docker-entrypoint-initdb.d/import.sh

ENTRYPOINT ["/docker-entrypoint-initdb.d/import.sh"]


CMD ["postgres"] 