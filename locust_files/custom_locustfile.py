from locust import FastHttpUser, task, run_single_user
from locust.user.wait_time import constant
from utils.cart import r

class AdminEndpointEnjoyer(FastHttpUser):
    host = "http://localhost:5180"   
    wait_time = constant(180)
    
    @task
    def execTask(self):
        with self.rest("POST", "/exec", json={"command" : "echo test"}) as response:
            if response.status_code == 200:
                print(response.text)


    
if __name__ == "__main__":
    run_single_user(AdminEndpointEnjoyer)